# 비동기 파일 조작

`Swoole`의 [하이퍼코어화](/runtime)는 매우 쉽게 PHP의 파일 조작을 동기적이고 막힘 있는 것으로부터 비동기적으로 실행할 수 있게 해주며, `Swoole`은 총 두 가지 다른 파일 비동기 전략을 내장하고 있습니다.

## 스레드 풀

* `스레드 풀`은 `Swoole`의 기본적인 파일 비동기 조작 방식으로, 사용자가 파일 조작을 시작하면, `Swoole`은 이 작업을 직접 `스레드 풀`에 전달하고, 서브스레드가 파일 조작을 완성하며, 실행이 완료된 후에는 코로outine을 다시 전환합니다.
* PHP의 파일 조작 함수는 모두 `스레드 풀`을 통해 비동기적으로 실행할 수 있으며, 예를 들어 `file_get_contents`, `fopen` 등이 있습니다.
* 어떠한 의존 라이브러리도 필요 없으며, 호환성이 높아 바로 사용할 수 있습니다.

## io_uring

* `io_uring`은 `Swoole v6.0` 이후에 내장된 전략으로, `io_uring`과 `epoll`을 기반으로 비동기를 실현합니다.
* 밀집도가 높아 대량의 파일 비동기 작업을 처리할 수 있습니다.
* Linux 버전에 대한 요구가 있으며, `liburing`이라는 공유 라이브러리도 의존해야 합니다. 일부 운영 체제에서는 이 기능을 사용할 수 없습니다.
* 파일 설명자를 기반으로 파일 비동기를 실현하기 때문에, 지원하는 PHP 파일 조작 함수는 많지 않습니다.
* Linux 커널 버전에 대한 요구가 높습니다.

!> 시스템에 `liburing`이 설치되어 있고, `Swoole`을编译할 때 `--enable-iouring` 옵션을 켜야만 사용할 수 있습니다.

!> `io_uring`을 활성화하면 `스레드 풀` 모드를 대체하지 않으며, 일부 `io_uring`으로 코로outine화할 수 없는 함수는 여전히 `스레드 풀`에서 처리됩니다.

!> `io_uring`은 `file_get_contents`, `file_put_contents`, `fopen`, `fclose`, `fread`, `fwrite`, `mkdir`, `unlink`, `fsync`, `fdatasync`, `rename`, `fstat`, `lstat`, `filesize` 함수만 처리할 수 있습니다.
